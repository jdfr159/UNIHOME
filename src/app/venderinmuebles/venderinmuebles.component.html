<div class="form-container">
  <h2>Registrar Propiedad</h2>
  <form [formGroup]="saleForm" (ngSubmit)="submitForm()">
    <div class="form-section">
      <label for="tipo">Tipo de Transacción:</label>
      <select id="tipo" formControlName="tipo" [class.input-invalid]="saleForm.get('tipo')?.invalid && saleForm.get('tipo')?.touched" required>
        <option value="" disabled selected>Seleccione...</option>
        <option value="venta">Venta</option>
        <option value="arriendo">Arriendo</option>
      </select>
      <div *ngIf="saleForm.get('tipo')?.invalid && saleForm.get('tipo')?.touched" class="error">
        Seleccione un tipo de transacción.
      </div>
    </div>
    <div class="form-section">
      <label for="direccion">Dirección:</label>
      <input id="direccion" formControlName="direccion" type="text" [class.input-invalid]="saleForm.get('direccion')?.invalid && saleForm.get('direccion')?.touched" required />
      <div *ngIf="saleForm.get('direccion')?.invalid && saleForm.get('direccion')?.touched" class="error">
        Ingrese una dirección válida.
      </div>
    </div>
    <div class="form-section">
      <label for="barrio">Barrio:</label>
      <input id="barrio" formControlName="barrio" type="text" [class.input-invalid]="saleForm.get('barrio')?.invalid && saleForm.get('barrio')?.touched" required />
      <div *ngIf="saleForm.get('barrio')?.invalid && saleForm.get('barrio')?.touched" class="error">
        Ingrese el barrio.
      </div>
    </div>
    <div class="form-section">
      <label for="precio">Precio:</label>
      <input id="precio" formControlName="precio" type="number" [class.input-invalid]="saleForm.get('precio')?.invalid && saleForm.get('precio')?.touched" required />
      <div *ngIf="saleForm.get('precio')?.invalid && saleForm.get('precio')?.touched" class="error">
        Ingrese un precio válido.
      </div>
    </div>
    <div class="form-section">
      <label for="habitaciones">Habitaciones:</label>
      <input id="habitaciones" formControlName="habitaciones" type="number" min="1" [class.input-invalid]="saleForm.get('habitaciones')?.invalid && saleForm.get('habitaciones')?.touched" />
      <div *ngIf="saleForm.get('habitaciones')?.invalid && saleForm.get('habitaciones')?.touched" class="error">
        Ingrese un número válido de habitaciones.
      </div>
    </div>
    <div class="form-section">
      <label for="banos">Baños:</label>
      <input id="banos" formControlName="banos" type="number" min="1" [class.input-invalid]="saleForm.get('banos')?.invalid && saleForm.get('banos')?.touched" />
      <div *ngIf="saleForm.get('banos')?.invalid && saleForm.get('banos')?.touched" class="error">
        Ingrese un número válido de baños.
      </div>
    </div>
    <div class="form-section">
      <label for="area">Área (m²):</label>
      <input id="area" formControlName="area" type="number" min="1" [class.input-invalid]="saleForm.get('area')?.invalid && saleForm.get('area')?.touched" />
      <div *ngIf="saleForm.get('area')?.invalid && saleForm.get('area')?.touched" class="error">
        Ingrese un área válida.
      </div>
    </div>
    <div class="form-section">
      <label for="descripcion">Descripción:</label>
      <textarea id="descripcion" formControlName="descripcion" maxlength="500" [class.input-invalid]="saleForm.get('descripcion')?.invalid && saleForm.get('descripcion')?.touched"></textarea>
      <div *ngIf="saleForm.get('descripcion')?.invalid && saleForm.get('descripcion')?.touched" class="error">
        La descripción no puede exceder los 500 caracteres.
      </div>
    </div>
    <button type="submit" [disabled]="loading || !saleForm.valid">
      {{ loading ? 'Registrando...' : 'Registrar' }}
    </button>
  </form>

  <!-- Mensaje de éxito -->
  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
  </div>
</div>

